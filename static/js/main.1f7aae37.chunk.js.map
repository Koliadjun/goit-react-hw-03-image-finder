{"version":3,"sources":["components/Button/button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Searchbar","state","searchInputValue","onSubmit","e","preventDefault","props","setState","onChange","currentTarget","value","toLowerCase","className","this","type","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","src","onClick","largeImg","alt","Button","children","s","propType","PropTypes","element","func","isRequired","BASE_URL","STATUS","ImageGallery","images","page","perPage","status","error","fetchData","searchQuery","fetch","then","r","json","data","hits","length","Error","catch","loadMoreClickHandler","prevState","prevProps","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","map","image","webformatURL","largeImageURL","id","modalDiv","querySelector","Modal","keyPressHandler","code","onClose","backDropClickHandle","target","addEventListener","removeEventListener","createPortal","url","App","showModal","onSubmitHandler","onCloseHandler","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1f7aae37.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__Hax0N\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Searchbar extends Component {\n  static propTypes = { onSubmit: PropTypes.func.isRequired };\n  state = {\n    searchInputValue: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.searchInputValue);\n    this.setState({ searchInputValue: '' });\n  };\n  onChange = e => {\n    this.setState({ searchInputValue: e.currentTarget.value.toLowerCase() });\n  };\n  render() {\n    return (\n      <>\n        <header className=\"Searchbar\">\n          <form className=\"SearchForm\" onSubmit={this.onSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n\n            <input\n              onChange={this.onChange}\n              className=\"SearchForm-input\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n              value={this.state.searchInputValue}\n            />\n          </form>\n        </header>\n      </>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React, { Component } from 'react';\n// import PropTypes from 'prop-types';\n\nexport class ImageGalleryItem extends Component {\n  //   static propTypes = { image: PropTypes.array.isRequired };\n\n  render() {\n    const { src, onClick } = this.props;\n    return (\n      <li\n        className=\"ImageGalleryItem\"\n        onClick={() => onClick(this.props.largeImg)}\n      >\n        <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './button.module.css';\nconst Button = ({ children, onClick }) => {\n  return (\n    <button className={s.Button} type=\"button\" onClick={onClick}>\n      {children}\n    </button>\n  );\n};\nButton.propType = {\n  children: PropTypes.element,\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nconst BASE_URL =\n  'https://pixabay.com/api/?key=21859893-eed1f1d786560e2667ad1f26b&image_type=photo&orientation=horizontal';\nconst STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  rejected: 'rejected',\n  resolved: 'resolved',\n};\nexport class ImageGallery extends Component {\n  static propTypes = { searchQuery: PropTypes.string };\n  state = {\n    images: [],\n    page: 1,\n    perPage: 12,\n    status: STATUS.idle,\n    error: '',\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.searchQuery !== this.props.searchQuery) {\n      this.fetchData().then(data =>\n        this.setState({\n          images: [...data.hits],\n          page: 1,\n          status: STATUS.resolved,\n        }),\n      );\n      // .catch(error => {\n      //   this.setState({ status: STATUS.rejected, error });\n      // });\n    }\n    if (\n      prevState.page !== this.state.page &&\n      this.state.page > 1 &&\n      prevProps.searchQuery === this.props.searchQuery\n    ) {\n      this.fetchData(this.state.page)\n        .then(data =>\n          this.setState({\n            images: [...prevState.images, ...data.hits],\n            status: STATUS.resolved,\n          }),\n        )\n        .then(() => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  fetchData = (page = 1) => {\n    const { perPage } = this.state;\n    const { searchQuery } = this.props;\n    this.setState({ status: STATUS.pending });\n    return fetch(\n      `${BASE_URL}&q=${searchQuery}&per_page=${perPage}&page=${page}`,\n    )\n      .then(r => r.json())\n      .then(data => {\n        if (data.hits.length === 0) {\n          throw new Error(`Немає фото за цим ${searchQuery} запитом`);\n        } else {\n          return data;\n        }\n      })\n      .catch(error => this.setState({ status: STATUS.rejected, error }));\n  };\n\n  loadMoreClickHandler = () => {\n    this.setState(prevState => ({ page: prevState.page + 1 }));\n  };\n  render() {\n    const { status } = this.state;\n\n    if (status === STATUS.idle) {\n      return <></>;\n    }\n    if (status === STATUS.pending) {\n      return (\n        <div className=\"loaderWrapper\">\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n        </div>\n      );\n    }\n    if (status === STATUS.rejected) {\n      return <div>{this.state.error}</div>;\n    }\n    if (status === STATUS.resolved) {\n      return (\n        <>\n          <ul className=\"ImageGallery\">\n            {this.state.images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                src={image.webformatURL}\n                largeImg={image.largeImageURL}\n                onClick={this.props.onClick}\n              />\n            ))}\n          </ul>\n          <div className=\"buttonWrapper\">\n            <Button onClick={this.loadMoreClickHandler}>Load more</Button>\n          </div>\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nconst modalDiv = document.querySelector('#modal-root');\nexport class Modal extends Component {\n  static propTypes = {\n    onClick: PropTypes.func.isRequired,\n    scr: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n  };\n  state = {};\n  componentDidMount() {\n    window.addEventListener('keydown', this.keyPressHandler);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.keyPressHandler);\n  }\n\n  keyPressHandler = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  backDropClickHandle = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.backDropClickHandle}>\n        <div className=\"Modal\">\n          <img src={this.props.url} alt=\"large img\" />\n        </div>\n      </div>,\n      modalDiv,\n    );\n  }\n}\n\nexport default Modal;\n","import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport './App.css';\nimport React, { Component } from 'react'\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Modal from \"./components/Modal/Modal\";\n\nexport class App extends Component {\n  state = {\n    searchQuery: '',\n    showModal: false,\n    url: ''\n  }\n\n  onSubmitHandler = searchQuery => { this.setState({ searchQuery }) }\n  onCloseHandler = (url) => {\n    this.setState(({ showModal }) => ({ showModal: !showModal, url: url }))\n  }\n  render() {\n    return (\n      <>\n        <Searchbar onSubmit={this.onSubmitHandler} />\n        <ImageGallery searchQuery={this.state.searchQuery} onClick={this.onCloseHandler} />\n        {this.state.showModal && <Modal url={this.state.url} onClose={this.onCloseHandler} />}\n      </>\n    )\n  }\n}\n\nexport default App\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-normalize/modern-normalize.css';\nimport './index.css';\nimport './styles.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}