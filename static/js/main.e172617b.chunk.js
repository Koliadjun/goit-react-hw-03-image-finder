(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(9),s=a.n(c),i=(a(14),a(15),a(16),a(2)),o=a(3),u=a(5),h=a(4),l=(a(17),a(0)),p=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchInputValue:""},e.onSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.searchInputValue),e.setState({searchInputValue:""})},e.onChange=function(t){e.setState({searchInputValue:t.currentTarget.value.toLowerCase()})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:this.onSubmit,children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{onChange:this.onChange,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.searchInputValue})]})})})}}]),a}(n.Component),j=a(6),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.src;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{src:e,alt:"",className:"ImageGalleryItem-image"})})}}]),a}(n.Component),f=a(8),m=a.n(f),d=function(e){var t=e.children,a=e.onClick;return Object(l.jsx)("button",{type:"button",onClick:a,children:t})};d.propType={children:m.a.element,onClick:m.a.func.isRequired};var g=d,O="https://pixabay.com/api/?key=21859893-eed1f1d786560e2667ad1f26b&image_type=photo&orientation=horizontal",y="idle",v="pending",S="rejected",x="resolved",C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={images:[],page:1,perPage:12,status:y,error:""},e.fetchData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=e.state.perPage,n=e.props.searchQuery;return e.setState({status:v}),fetch("".concat(O,"&q=").concat(n,"&per_page=").concat(a,"&page=").concat(t)).then((function(e){if(!e.ok)throw Error("error request ".concat(n))})).then((function(e){return e.json()}))},e.loadMoreClickHandler=function(){e.setState((function(e){return{page:e.page+1}}))},e}return Object(o.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;e.searchQuery!==this.props.searchQuery&&this.fetchData().then((function(e){return a.setState({images:Object(j.a)(e.hits),page:1})})).catch((function(e){return a.setState({status:S,error:e})})).finally((function(){return a.setState({status:x})})),t.page!==this.state.page&&this.state.page>1&&e.searchQuery===this.props.searchQuery&&this.fetchData(this.state.page).then((function(e){return a.setState({images:[].concat(Object(j.a)(t.images),Object(j.a)(e.hits))})})).catch((function(e){return a.setState({status:S,error:e})})).finally((function(){return a.setState({status:x})}))}},{key:"render",value:function(){var e=this.state.status;return e===y?Object(l.jsx)(l.Fragment,{}):e===v?Object(l.jsx)("h1",{children:"Loading"}):e===S?Object(l.jsx)("div",{children:"this.state.error();"}):e===x?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ul",{className:"ImageGallery",children:this.state.images.map((function(e){return Object(l.jsx)(b,{src:e.webformatURL},e.id)}))}),Object(l.jsx)(g,{onClick:this.loadMoreClickHandler,children:"Load more"})]}):void 0}}]),a}(n.Component),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:""},e.onSubmitHandler=function(t){e.setState({searchQuery:t})},e}return Object(o.a)(a,[{key:"render",value:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p,{onSubmit:this.onSubmitHandler}),Object(l.jsx)(C,{searchQuery:this.state.searchQuery})]})}}]),a}(n.Component),F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,22)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(k,{})}),document.getElementById("root")),F()}},[[21,1,2]]]);
//# sourceMappingURL=main.e172617b.chunk.js.map